<div class="d-flex flex-column" [formGroup]="filtersForm">
  <div class="d-flex flex-row need-wrapper">
    <mat-form-field>
      <mat-label>{{'Property' | translate}}</mat-label>
      <mtx-select
        [items]="properties"
        bindLabel="name"
        bindValue="id"
        formControlName="propertyId"
        id="propertyIdFilter"
        [clearable]="false"
      >
      </mtx-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>{{'Property - Areas' | translate}}</mat-label>
      <mtx-select
        [items]="propertyAreas"
        formControlName="areaName"
        id="areaNameFilter"
        notFoundText="{{'None found' | translate}}"
      >
      </mtx-select>
    </mat-form-field>
    <ng-container *ngIf="propertyIsSelected">
      <div class="p-2">
      <button
        mat-raised-button
        color="accent"
        id="updateEntityList"
        (click)="onShowEditEntityListModal()"
        matTooltip="{{ 'Edit list of areas for task management' | translate }}"
      >
        {{ 'Areas' | translate }}
<!--        <mat-icon>list</mat-icon>-->
      </button>
      </div>
    </ng-container>
  </div>
  <div class="d-flex flex-row need-wrapper">
    <mat-form-field>
      <mat-label>{{'Created by' | translate}}</mat-label>
      <mtx-select
        bindLabel="name"
        bindValue="name"
        formControlName="createdBy"
        [items]="assignedSitesToProperty"
        id="createdByFilter"
      >
      </mtx-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>{{'Last assigned to' | translate}}</mat-label>
      <mtx-select
        bindLabel="name"
        bindValue="id"
        formControlName="lastAssignedTo"
        [items]="assignedSitesToProperty"
        id="lastAssignedToFilter"
      >
      </mtx-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>{{'Status' | translate}}</mat-label>
      <mtx-select
        [items]="[
          {id: 1, name: ('Ongoing' | translate)},
          {id: 2, name: ('Completed' | translate)},
          {id: 3, name: ('Ordered' | translate)},
          {id: 4, name: ('Awaiting' | translate)},
        ]"
        bindLabel="name"
        bindValue="id"
        formControlName="statuses"
        multiple="true"
        id="statusFilter"
      >
      </mtx-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>{{'Priority' | translate}}</mat-label>
      <mtx-select
        [items]="[
          {id: 1, name: ('Urgent' | translate)},
          {id: 2, name: ('High' | translate)},
          {id: 3, name: ('Medium' | translate)},
          {id: 4, name: ('Low' | translate)},
        ]"
        bindLabel="name"
        bindValue="id"
        formControlName="priority"
        id="priorityFilter"
      >
      </mtx-select>
    </mat-form-field>
    <mat-form-field formGroupName="date">
      <mat-label>{{'Date' | translate}}</mat-label>
      <mat-date-range-input [rangePicker]="picker" (click)="picker.open()">
        <input formControlName="dateFrom" matStartDate class="dateFilter">
        <input formControlName="dateTo" matEndDate class="dateFilter">
      </mat-date-range-input>
      <mat-date-range-picker #picker></mat-date-range-picker>
    </mat-form-field>
  </div>
</div>
